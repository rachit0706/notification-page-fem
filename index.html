<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;800&display=swap" rel="stylesheet">

  <title>Frontend Mentor | Notifications page</title>
  <link rel="stylesheet" href="./styles/styles.css">
</head>

<body>
  <main>
    <div class="notification-page">
      <div class="notification-head">
        <div>
          <h1>Notifications</h1> <span class="notification-count">3</span>
        </div>
        <span class="mark-all-read">Mark all as read</span>
      </div>
      <div class="notification unread">
        <img src="./assets/images/avatar-mark-webber.webp" alt="" class="profile-pic">
        <div class="notification-info">
          <p>
            <span class="name">Mark Webber</span> reacted to your recent post <strong>My first tournament
              today!</strong>
          </p>
          <span class="time">1m ago</span>
        </div>
      </div>
      <div class="notification unread">
        <img src="./assets/images/avatar-angela-gray.webp" alt="" class="profile-pic">
        <div class="notification-info">
          <p>
            <span class="name">Angela Gray</span> followed you
          </p>
          <span class="time">5m ago</span>
        </div>
      </div>
      <div class="notification unread">
        <img src="./assets/images/avatar-jacob-thompson.webp" alt="" class="profile-pic">
        <div class="notification-info">
          <p>
            <span class="name">Jacob Thompson</span> has joined your group <span class="chess-club">Chess Club</span>
          </p>
          <span class="time">1 day ago</span>
        </div>
      </div>
      <div class="notification with-private">
        <div>
          <img src="./assets/images/avatar-rizky-hasanuddin.webp" alt="" class="profile-pic">
          <div class="notification-info">
            <p>
              <span class="name">Rizky Hasanuddin</span> sent you a private message
            </p>
            <span class="time">5 days ago</span>
          </div>
        </div>
        <p class="private-message">
          Hello, thanks for setting up the Chess Club. I've been a member for a few weeks now and I'm already having
          lots of fun and improving my game.
        </p>
      </div>
      <div class="notification">
        <img src="./assets/images/avatar-kimberly-smith.webp" alt="" class="profile-pic">
        <div class="notification-info comment-on-pic">
          <div>
            <p>
              <span class="name">Kimberly Smith</span>
              commented on your picture
            </p>
            <span class="time">1 week ago</span>
          </div>
          <img src="./assets/images/image-chess.webp" alt="" class="chess-pic">
        </div>
      </div>
      <div class="notification">
        <img src="./assets/images/avatar-nathan-peterson.webp" alt="" class="profile-pic">
        <div class="notification-info">
          <p>
            <span class="name">Nathan Peterson</span> reacted to your recent post <strong>5 end-game strategies to
              increase your
              win rate</strong>
          </p>
          <span class="time">2 weeks ago</span>
        </div>
      </div>
      <div class="notification">
        <img src="./assets/images/avatar-anna-kim.webp" alt="" class="profile-pic">
        <div class="notification-info">
          <p>
            <span class="name">Anna Kim </span> left the group <span class="chess-club">Chess Club</span>
          </p>
          <span class="time">2 weeks ago</span>
        </div>
      </div>
    </div>
    <div class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
      Coded by <a href="#">Rachit Patel</a>.
    </div>
  </main>

  <script>
    let notificationCount = 3;
    const notifications = document.querySelector('.notification-page');
    const notificationBubble = document.querySelector('.notification-count');
    const markAllRead = document.querySelector('.mark-all-read');

    notifications.addEventListener('click', function (e) {
      // console.log(e.target.classList);
      // console.log(e.target.parentElement.classList.value.includes("unread"));

      if (e.target.parentElement.classList.value.includes("unread")) {
        e.target.parentElement.classList.remove("unread");
        notificationCount--;
        notificationBubble.textContent = notificationCount;
      }

      if (notificationCount === 0) {
        console.log(notificationCount);
        markAllRead.style.display = "none";
      }

    });



    markAllRead.addEventListener('click', function () {
      for (child of notifications.children) {
        // console.log(child.classList.value);
        if (child.classList.value.includes('unread')) {
          child.classList.remove('unread');
          notificationCount--;
        }
      }

      notificationBubble.textContent = notificationCount;
      markAllRead.style.display = "none";
    });
  </script>
</body>

</html>